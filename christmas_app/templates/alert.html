<!-- alert ui  -->
<!-- Beautiful alert from SweetAlert2 -->
<!-- <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script> -->
<!-- SWA Offline access -->
<script src="{{url_for('static', filename='offline_cdn/swa2.js')}}"></script>
<!-- Begin alerts -->
{% with messages = get_flashed_messages(with_categories=true) %} {% if messages
%} {% for category, message in messages %}

<script>
  let cat = "{{category}}";
  if ("{{category}}" == "danger") {
    cat = "error";
  } else if ("{{category}}" == "found") {
    cat = "success";
  } else if ("{{category}}" == "not found") {
    cat = "warning";
  }
  Swal.fire({
    title:
      "{{ category.title() }}!" == "found"
        ? "FOUND!"
        : "{{ category.title() }}!",
    // success , error , warning ,info, found

    html:
      "{{ category }}" == "not found"
        ? "Please try again later or use different account! <br> {{message}}"
        : "{{ message }}",
    // Custom message flashed from your flask routes

    icon: cat,
    // success , error , warning ,info, found

    focusConfirm: true,
    confirmButtonText: "Dismiss",
    confirmButtonAriaLabel: "Dismiss",
  }).then(() => {
    if ("{{nextLoc}}" != "") {
      window.location.assign("{{nextLoc}}");
    }
  });
</script>

{% endfor %} {% endif %} {% endwith %}
